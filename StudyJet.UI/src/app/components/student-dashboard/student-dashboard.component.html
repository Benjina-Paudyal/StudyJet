
<section id="welcome-and-courses" class="py-5" style="display: flex; flex-direction: column; min-height: 86vh;">
    <div class="container" style="flex-grow: 1;">
      <div class="d-flex align-items-center mb-4 mt-4">
        <img *ngIf="profileImageUrl" [src]="profileImageUrl" alt="Profile" class="profile-image me-3"
          style="width: 60px; height: 60px; border-radius: 50%;" />
        <h2 class="text-left mb-4 fw-semibold" style="font-size: 25px;">Welcome back, {{ fullName$ | async }}!</h2>
      </div>
  
      <!-- Only show this section if the student has purchased courses -->
      <div class="d-flex justify-content-between align-items-center mb-4" *ngIf="purchasedCourses.length > 0">
        <h2 class="text-success mb-4">Let's start learning</h2>
        <a [routerLink]="'/my-learning'" class="text-success fw-bold text-decoration-none mb-1">
          My Learning
        </a>
      </div>
  
      <div *ngIf="purchasedCourses.length > 0; else noCourses">
        <div class="row gx-3">
          <div class="col-md-4" *ngFor="let course of purchasedCourses | slice:0:3">
            <a [routerLink]="['/courses', course.courseID]" class="card h-100 text-center"
              style="cursor:pointer; text-decoration: none;">
              <div class="card h-120 text-center" style="cursor:pointer; text-decoration: none;">
                <div class="card-img-wrapper" style="height: 250px; overflow: hidden; background: #f0f0f0;">
                  <img [src]="course.imageUrl || '/assets/images/default-thumbnail.png'" class="card-img-top img-fluid"
                    style="width: 100%; height: 100%; object-fit: cover; aspect-ratio: 16/9;" alt="{{ course.title }}" />
                </div>
                <div class="card-body p-2">
                  <h5 class="card-title mb-1" style="font-size: 16px;">{{ course.title }}</h5>
                  <p class="card-text text-black-50 mb-0" style="font-size: 14px;">By: {{ course.instructorName }}</p>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
  
      <ng-template #noCourses>
        <div class="mt-5">
          <h4 class="text-danger mb-4 fw-bold">You have not yet purchased any courses !</h4>
          <h5 class="text-success mt-4 fw-bold mb-5">Start your learning journey by purchasing a course </h5>
  
          <!-- Suggested Courses -->
          <div class="row">
            <div class="col-md-4" *ngFor="let course of suggestedCourses | slice:0:3">
              <a [routerLink]="['/courses', course.courseID]" class="card h-100 text-center"
                style="cursor:pointer; text-decoration: none;">
                <div class="card h-120 text-center">
                  <div class="card-img-wrapper" style="height: 250px; overflow: hidden; background: #f0f0f0;">
                    <img [src]="course.imageUrl || '/assets/images/default-thumbnail.png'" class="card-img-top img-fluid"
                      style="width: 100%; height: 100%; object-fit: cover;" alt="{{ course.title }}" />
                  </div>
                  <div class="card-body p-2">
                    <h5 class="card-title mb-1">{{ course.title }}</h5>
                    <p class="card-text text-black-50 mb-0">By: {{ course.instructorName }}</p>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </ng-template>
    </div>
    </section>
  
